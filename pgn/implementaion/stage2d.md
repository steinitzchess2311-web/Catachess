# Stage 2D - 前端切换与灰度

## 约束（必须写在每个 stage 文档开头）
- [ ] 每完成一项任务，必须勾选对应 checkbox。
- [ ] 如果遇到阻塞或不确定，必须直接写明问题，不允许猜测后勾选。
- [ ] 禁止“先勾选后补做”。
- [ ] 禁止谎报进度；我会抽查对比代码。

---

## 本 Stage 目标
前端可平滑切换到 ShowDTO，并保留回滚方案。

---

## 分计划（Checklist）

### A. ShowDTO 渲染
- [ ] 修改 `frontend/ui/modules/study/events/index.ts`
  - [ ] 调用 `/show`
  - [ ] 渲染 render token
  - [ ] 点击 move 直接使用 DTO 的 fen

### B. 回滚开关
- [ ] 加入配置开关（环境变量或前端开关）
  - [ ] 关闭时继续用 mainline 接口
  - [ ] 开启时用 `/show`

### C. 手动验收
- [ ] 复杂变例渲染正确
- [ ] 注释显示正确
- [ ] 走子点击跳转正确

---

## 输出物（本阶段交付）
- 可切换的前端渲染逻辑
- 灰度/回滚开关

